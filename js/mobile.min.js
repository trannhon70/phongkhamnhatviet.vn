function checkWidthMobile() {
    const slider = document.getElementById('slide')
    const slider_mobile = document.getElementById('slide_mobile')
    const header = document.getElementById('header');
    const headerMobile = document.getElementById('header_mobile');
    const formChat = document.querySelector('.form-chat');
    const formChat_mobile = document.querySelector('.form-chat-mobile');
    const experienced_footer = document.querySelector('.experienced_footer');
    const experienced_footer_mobile = document.querySelector('.experienced_footer_mobile');
    const experienced_body_left_center = document.querySelector('.experienced_body_left_center');
    const experienced_body_left_center_mobile = document.querySelector('.experienced_body_left_center_mobile');
    const tintuc = document.querySelector('.tintuc_pc');
    const tintuc_mobile = document.querySelector('.tintuc_mobile');
    const footer = document.getElementById("footer");
    const footer_mobile = document.getElementById("footer_mobile");

    const health = document.getElementById('health')
    const health_mobile = document.getElementById('health_mobile')

    const banner_km_mobile = document.getElementById('banner_km_mobile')

    const health_tintuc_mobile = document.getElementById('health_tintuc_mobile');
    // console.log(banner_km_mobile,'banner_km_mobile');

    // console.log(health,'health');

    if (window.innerWidth <= 900) {
        if (header || formChat || experienced_footer || experienced_body_left_center || tintuc || footer || health || slider) {
            header?.remove();
            formChat?.remove();
            experienced_footer?.remove();
            experienced_body_left_center?.remove();
           
            tintuc?.remove();
            footer?.remove();
            health?.remove();
            slider?.remove();
        }
        if (headerMobile || formChat_mobile || experienced_footer_mobile || experienced_body_left_center_mobile || tintuc_mobile || footer_mobile || health_mobile || banner_km_mobile || health_tintuc_mobile || slider_mobile) {
            headerMobile.style.display = 'block';
            formChat_mobile.style.display = 'block';
            experienced_footer_mobile.style.display = 'block';
            experienced_body_left_center_mobile.style.display = 'block';
            tintuc_mobile.style.display = 'block';
            footer_mobile.style.display = 'block';
            health_mobile.style.display = 'block';
            banner_km_mobile.style.display = 'block';
            health_tintuc_mobile.style.display = 'block';
            slider_mobile.style.display = 'block';
        }
    } else if (window.innerWidth > 900) {
        if (headerMobile || formChat_mobile || experienced_footer_mobile || experienced_body_left_center_mobile || tintuc_mobile || footer_mobile || health_mobile || health_tintuc_mobile || slider_mobile) {
            headerMobile?.remove();
            formChat_mobile?.remove();
            experienced_footer_mobile?.remove();
            experienced_body_left_center_mobile?.remove();
            tintuc_mobile?.remove();
            footer_mobile?.remove();
            health_mobile?.remove();
            banner_km_mobile?.remove();
            health_tintuc_mobile?.remove()
            slider_mobile?.remove()
        }
        if (header || formChat || experienced_footer || experienced_body_left_center || tintuc || footer || health || slider) {
            header.style.display = 'block';
            formChat.style.display = 'block';
            experienced_body_left_center.style.display = 'block';
            tintuc.style.display = 'block';
            footer.style.display = 'block';
            health.style.display = 'block';
            slider.style.display = 'block';
        }
    }
}

// Run on initial load
document.addEventListener('DOMContentLoaded', checkWidthMobile);

// Add event listener for window resize
window.addEventListener('resize', checkWidthMobile);


// nút nhấn side bar mobile

function showSidebar() {
    const sidebar =document.querySelector('.sidebar_mobile');
    const icons_menu =document.querySelector('.header_mobile_row_col_icon');
    const icons_sclose =document.querySelector('.header_mobile_row_col_icon_close');
    sidebar.classList.add('active_mobile');
    sidebar.classList.remove('inactive_mobile');
    icons_menu.style.display = "none";
    icons_sclose.style.display="block"
}

function hidenSidebar () {
    // console.log('hiden');
    const sidebar =document.querySelector('.sidebar_mobile');
    const icons_menu =document.querySelector('.header_mobile_row_col_icon');
    const icons_sclose =document.querySelector('.header_mobile_row_col_icon_close');
    sidebar.classList.add('inactive_mobile');
    setTimeout(() => {
        sidebar.classList.remove('active_mobile');
    }, 500);
    icons_menu.style.display = "block";
    icons_sclose.style.display="none"
}

function showShelectOption () {
    const select =document.querySelector('.sidebar_mobile_li');
    const option = document.querySelector('.sidebar_mobile_li_ul')
    if (option.style.display === "none" || option.style.display === "") {
        option.style.display = "block";
        select.style.borderBottom ="0px"
    } else {
        option.style.display = "none";
        select.style.borderBottom = "";
    }
}

function showShelectOptionBenh(clickedElement) {
    // console.log(clickedElement,'click');

    // Get all options and all select elements
    const allOptions = document.querySelectorAll('.sidebar_mobile_li_ul_li_benh');
    const allSelects = document.querySelectorAll('.sidebar_mobile_li_ul_li span');

    // Loop through all options to hide them and reset borderBottom
    allOptions.forEach(option => {
        option.style.display = "none";
    });

    allSelects.forEach(select => {
        select.parentElement.style.borderBottom = "";
    });

    // Get the clicked option and select element
    const option = clickedElement.nextElementSibling;
    const select = clickedElement.parentElement;

    // Toggle display for the clicked option
    if (option.style.display === "none" || option.style.display === "") {
        option.style.display = "block";
        select.style.borderBottom = "0px";
    } else {
        option.style.display = "none";
        select.style.borderBottom = "";
    }
}

// Add event listeners to all span elements
// back to top

const backToTop = document.querySelector('.backToTop');


window.addEventListener("scroll",()=>{
    if(window.pageYOffset > 200){
        backToTop.classList.add("active_top")
    }else {
        backToTop.classList.remove("active_top")
    }
})

function scrollToTop (){
    window.scrollTo(0,0);
}

//chỉnh img trong bài viết detaul
function checkImgMobile () {
    
    let baiVietElement = document.getElementById('bai-viet');
    if(baiVietElement){
        let elements = document.querySelectorAll('.glow-on-hover');
        let imgElements = baiVietElement.getElementsByTagName('img');
        if (window.innerWidth <= 900) { 
            if(elements){
                elements.forEach(element => {
                    element.style.width = '320px'; 
                    element.style.height = '130px'; 
                  });
            }
    
            if(imgElements){
              
                const imgArray = Array.prototype.slice.call(imgElements);
                imgArray.forEach(img => {

                    if (!img.src.includes('https://phongkhamdakhoanhatviet.vn/ckfinder/userfiles/images/ICon')) {
                        img.style.width = '100%';    // Đặt width thành 100%
                        img.style.height = '225px';  // Đặt height thành 225px
                    }
                });
                for (let i = 0; i < imgElements.length; i++) {
                    if (imgElements[i].src.startsWith('https://phongkhamdakhoanhatviet.vn/ckfinder/userfiles/images/Chat/Chat-Dakhoa.gif') == true) {
                        imgElements[i].style.width = '320px';
                        imgElements[i].style.height = '130px';
                        imgElements[i].style.borderRadius = '8px';
                        let divWrapper = document.createElement('p');
                        divWrapper.className = 'glow-on-hover';
                        imgElements[i].parentNode.insertBefore(divWrapper, imgElements[i]);
                        divWrapper.appendChild(imgElements[i])
                    }
                   
                }
                let h2Elements = baiVietElement.getElementsByTagName('h2');
                for (let i = 0; i < h2Elements?.length; i++) {
                    h2Elements[i].style.color = '#0060A7';
                    h2Elements[i].style.fontWeight = '700';
                    h2Elements[i].style.fontSize = '25px';
                    h2Elements[i].style.textTransform = 'capitalize';
                    // h2Elements[i].style.marginLeft = '10px';
                    h2Elements[i].style.background = 'url("https://phongkhamdakhoanhatviet.vn/images/icons/icon_cong.webp") no-repeat left center';
                    h2Elements[i].style.backgroundSize = '30px 30px';
                    h2Elements[i].style.paddingLeft = '35px';
        
                }

                let h3Element = baiVietElement.getElementsByTagName('h3');

        for (let i = 0; i < h3Element.length; i++) {
            h3Element[i].style.color = '#00D8D8';
            h3Element[i].style.fontWeight = '700';
            h3Element[i].style.fontSize = '21px';
            h3Element[i].style.textTransform = 'capitalize';
            // h3Element[i].style.marginLeft = '10px';
            h3Element[i].style.background = 'url("https://phongkhamdakhoanhatviet.vn/images/icons/icon_mui.gif") no-repeat left center';
            h3Element[i].style.backgroundSize = '25px 25px';
            h3Element[i].style.paddingLeft = '35px';
        }
            }
            
        }
    }
   
}
// Run on initial load
document.addEventListener('DOMContentLoaded', checkImgMobile);

// Add event listener for window resize
window.addEventListener('resize', checkImgMobile);


function hidenIconFooterCall () {
    const element = document.getElementById('footer_mobile_call_left_icon_chat')
    if(element){
        element.style.display = 'none'
    }
}

function showIconFooterCall () {
    const element = document.getElementById('footer_mobile_call_left_icon_chat')
    if(element){
        element.style.display = 'block'
    }
}

setInterval(() => {
    hidenIconFooterCall();
    setTimeout(showIconFooterCall, 1500);
}, 3000);


// random number chat
function animateNumber(element, values, duration) {
    let index = 0;

    function updateNumber() {
        element.textContent = values[index]; // Cập nhật số trên phần tử
        if (index < values.length - 1) {
            index++;
            setTimeout(updateNumber, duration / values.length); // Gọi lại hàm sau thời gian chia đều cho mỗi giá trị
        } else {
            setTimeout(() => animateNumber(element, values, duration), 1000); // Gọi lại hàm sau 1 giây khi hoàn thành
        }
    }

    updateNumber();
}

// Lấy phần tử với class 'footer_list_icon_number'
const numberElement = document.querySelector('.footer_list_icon_number');
const values = [3, 6, 9, 13, 15, 17, 20, 23, 25];
animateNumber(numberElement, values, 10000);